export const metadata = {
  title: 'Subscription Plans',
  description:
    'On this page, we\'ll dive into the different subscription plan endpoints you can use to manage your subscription plans programmatically.',
}

# Subscription Plans

Subscription plans define recurring billing terms for your customers. Plans are configured in the Vatly dashboard and can be added to checkouts to start new subscriptions. On this page, we'll dive into the different subscription plan endpoints you can use to query your plans programmatically. {{ className: 'lead' }}

## The subscription plan model

The subscription plan model contains all the information about the subscription plans you create, including the name, description, price, and billing interval.

### Properties

<Properties>
  <Property name="id" type="string">
    Unique identifier for the subscription plan (starts with `plan_`).
  </Property>
  <Property name="resource" type="string">
    The resource type. Always `subscription_plan`.
  </Property>
  <Property name="testmode" type="boolean">
    Whether this plan is in test mode.
  </Property>
  <Property name="name" type="string">
    Display name of the plan.
  </Property>
  <Property name="description" type="string">
    Detailed description of the plan.
  </Property>
  <Property name="basePrice" type="Money">
    Price per billing interval. A Money object with `value` (decimal string) and `currency` (ISO 4217 code).
  </Property>
  <Property name="interval" type="string">
    Billing interval unit. Can be `day`, `week`, `month`, or `year`.
  </Property>
  <Property name="intervalCount" type="integer">
    Number of interval units between billing cycles. For example, `interval: month` with `intervalCount: 3` bills every 3 months.
  </Property>
  <Property name="status" type="string">
    Current status of the plan. Can be `approved` (active and can be subscribed to), `draft` (not yet available), or `archived` (has been archived).
  </Property>
  <Property name="createdAt" type="string">
    When this plan was created (ISO 8601 format).
  </Property>
  <Property name="links" type="object">
    HATEOAS links to related resources. Contains `self` link.
  </Property>
</Properties>

---

## List all subscription plans {{ tag: 'GET', label: '/v1/subscription-plans' }}

<Row>
  <Col>

    This endpoint retrieves a paginated list of all subscription plans.

    ### Optional query parameters

    <Properties>
      <Property name="limit" type="integer">
        The number of subscription plans to return (default: 10, max: 100).
      </Property>
      <Property name="startingAfter" type="string">
        A cursor for use in pagination. Returns results after this plan ID.
      </Property>
      <Property name="endingBefore" type="string">
        A cursor for use in pagination. Returns results before this plan ID.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/subscription-plans">

    ```bash {{ title: 'cURL' }}
    curl -G https://api.vatly.com/v1/subscription-plans \
      -H "Authorization: Bearer live_your_api_key_here" \
      -d limit=10
    ```

    ```php {{ title: 'PHP' }}
    $vatly = new \Vatly\API\VatlyApiClient();
    $vatly->setApiKey('live_your_api_key_here');

    $plans = $vatly->subscriptionPlans->page();
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "data": [
        {
          "id": "plan_abc123def456",
          "resource": "subscription_plan",
          "testmode": false,
          "name": "Pro Monthly",
          "description": "Full access to all Pro features, billed monthly",
          "basePrice": {
            "value": "29.99",
            "currency": "EUR"
          },
          "interval": "month",
          "intervalCount": 1,
          "status": "approved",
          "createdAt": "2024-01-15T10:30:00Z",
          "links": {
            "self": {
              "href": "https://api.vatly.com/v1/subscription-plans/plan_abc123def456",
              "type": "application/json"
            }
          }
        },
        {
          "id": "plan_yearly789xyz",
          "resource": "subscription_plan",
          "testmode": false,
          "name": "Pro Yearly",
          "description": "Full access to all Pro features, billed yearly",
          "basePrice": {
            "value": "299.99",
            "currency": "EUR"
          },
          "interval": "year",
          "intervalCount": 1,
          "status": "approved",
          "createdAt": "2024-01-15T10:30:00Z",
          "links": {
            "self": {
              "href": "https://api.vatly.com/v1/subscription-plans/plan_yearly789xyz",
              "type": "application/json"
            }
          }
        }
      ],
      "links": {
        "self": {
          "href": "https://api.vatly.com/v1/subscription-plans?limit=10",
          "type": "application/json"
        },
        "next": null,
        "prev": null
      },
      "count": 2
    }
    ```

  </Col>
</Row>

---

## Retrieve a subscription plan {{ tag: 'GET', label: '/v1/subscription-plans/:id' }}

<Row>
  <Col>

    This endpoint retrieves a specific subscription plan by its ID.

    ### URL parameters

    <Properties>
      <Property name="id" type="string">
        The ID of the subscription plan to retrieve.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/subscription-plans/plan_abc123def456">

    ```bash {{ title: 'cURL' }}
    curl https://api.vatly.com/v1/subscription-plans/plan_abc123def456 \
      -H "Authorization: Bearer live_your_api_key_here"
    ```

    ```php {{ title: 'PHP' }}
    $vatly = new \Vatly\API\VatlyApiClient();
    $vatly->setApiKey('live_your_api_key_here');

    $plan = $vatly->subscriptionPlans->get('plan_abc123def456');
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "plan_abc123def456",
      "resource": "subscription_plan",
      "testmode": false,
      "name": "Pro Monthly",
      "description": "Full access to all Pro features, billed monthly",
      "basePrice": {
        "value": "29.99",
        "currency": "EUR"
      },
      "interval": "month",
      "intervalCount": 1,
      "status": "approved",
      "createdAt": "2024-01-15T10:30:00Z",
      "links": {
        "self": {
          "href": "https://api.vatly.com/v1/subscription-plans/plan_abc123def456",
          "type": "application/json"
        }
      }
    }
    ```

  </Col>
</Row>
