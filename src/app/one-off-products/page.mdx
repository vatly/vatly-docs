export const metadata = {
  title: 'One-off Products',
  description:
    'On this page, we\'ll dive into the different one-off product endpoints you can use to interact with your one-off products programmatically.',
}

# One-off Products

One-off products are digital products you can sell to your customers. When a customer buys a one-off product, an Order gets created and any webhooks configured through the dashboard get fired. {{ className: 'lead' }}

A one-off product is a digital product that can be bought once. Products are configured in the Vatly dashboard and can be added to checkouts. {{ className: 'lead' }}

Looking for subscription plans? See the [Subscription Plans API](/subscription-plans) instead. {{ className: 'lead' }}

## The one-off product model

Below you'll find all properties for the Vatly One-off Product API resource.

### Properties

<Properties>
  <Property name="id" type="string">
    Unique identifier for the product (starts with `prod_`).
  </Property>
  <Property name="resource" type="string">
    The resource type. Always `one_off_product`.
  </Property>
  <Property name="testmode" type="boolean">
    Whether this product is in test mode.
  </Property>
  <Property name="name" type="string">
    Display name of the product.
  </Property>
  <Property name="description" type="string">
    Detailed description of the product.
  </Property>
  <Property name="basePrice" type="Money">
    Default price of the product. A Money object with `value` (decimal string) and `currency` (ISO 4217 code). Can be overridden in checkout.
  </Property>
  <Property name="status" type="string">
    Current status of the product. Can be `approved` (active and can be purchased), `draft` (not yet available), or `archived` (has been archived).
  </Property>
  <Property name="createdAt" type="string">
    When this product was created (ISO 8601 format).
  </Property>
  <Property name="links" type="object">
    HATEOAS links to related resources. Contains `self` link.
  </Property>
</Properties>

---

## List all one-off products {{ tag: 'GET', label: '/v1/one-off-products' }}

<Row>
  <Col>

    This endpoint retrieves a paginated list of all one-off products.

    ### Optional parameters

    <Properties>
      <Property name="limit" type="integer">
        The number of products to return (default: 10, max: 100).
      </Property>
      <Property name="startingAfter" type="string">
        A cursor for use in pagination. Returns results after this product ID.
      </Property>
      <Property name="endingBefore" type="string">
        A cursor for use in pagination. Returns results before this product ID.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/one-off-products">

    ```bash {{ title: 'cURL' }}
    curl -G https://api.vatly.com/v1/one-off-products \
      -H "Authorization: Bearer live_your_api_key_here" \
      -d limit=10
    ```

    ```php {{ title: 'PHP' }}
    $vatly = new \Vatly\API\VatlyApiClient();
    $vatly->setApiKey('live_your_api_key_here');

    $products = $vatly->oneOffProducts->page();
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "data": [
        {
          "id": "prod_abc123def456",
          "resource": "one_off_product",
          "testmode": false,
          "name": "Premium License",
          "description": "Lifetime access to all premium features",
          "basePrice": {
            "value": "99.99",
            "currency": "EUR"
          },
          "status": "approved",
          "createdAt": "2024-01-15T10:30:00Z",
          "links": {
            "self": {
              "href": "https://api.vatly.com/v1/one-off-products/prod_abc123def456",
              "type": "application/json"
            }
          }
        }
      ],
      "links": {
        "self": {
          "href": "https://api.vatly.com/v1/one-off-products?limit=10",
          "type": "application/json"
        },
        "next": null,
        "prev": null
      },
      "count": 1
    }
    ```

  </Col>
</Row>

---

## Get a specific one-off product {{ tag: 'GET', label: '/v1/one-off-products/:id' }}

<Row>
  <Col>

    This endpoint retrieves a specific one-off product by its ID.

    ### Parameters

    <Properties>
      <Property name="id" type="string">
        The ID of the one-off product to retrieve.
      </Property>
    </Properties>

  </Col>
  <Col sticky>

    <CodeGroup title="Request" tag="GET" label="/v1/one-off-products/prod_abc123def456">

    ```bash {{ title: 'cURL' }}
    curl https://api.vatly.com/v1/one-off-products/prod_abc123def456 \
      -H "Authorization: Bearer live_your_api_key_here"
    ```

    ```php {{ title: 'PHP' }}
    $vatly = new \Vatly\API\VatlyApiClient();
    $vatly->setApiKey('live_your_api_key_here');

    $product = $vatly->oneOffProducts->get('prod_abc123def456');
    ```

    </CodeGroup>

    ```json {{ title: 'Response' }}
    {
      "id": "prod_abc123def456",
      "resource": "one_off_product",
      "testmode": false,
      "name": "Premium License",
      "description": "Lifetime access to all premium features",
      "basePrice": {
        "value": "99.99",
        "currency": "EUR"
      },
      "status": "approved",
      "createdAt": "2024-01-15T10:30:00Z",
      "links": {
        "self": {
          "href": "https://api.vatly.com/v1/one-off-products/prod_abc123def456",
          "type": "application/json"
        }
      }
    }
    ```

  </Col>
</Row>
