[{"data":1,"prerenderedAt":466},["ShallowReactive",2],{"navigation_docs":3,"-packages-laravel-customers":154,"-packages-laravel-customers-surround":461},[4,8,42,83,150],{"title":5,"path":6,"stem":7},"Welcome to Vatly","/introduction","0.introduction",{"title":9,"path":10,"stem":11,"children":12,"page":41},"Guides","/guides","1.guides",[13,17,21,25,29,33,37],{"title":14,"path":15,"stem":16},"Quickstart","/guides/quickstart","1.guides/1.quickstart",{"title":18,"path":19,"stem":20},"SDKs & Packages","/guides/sdks","1.guides/2.sdks",{"title":22,"path":23,"stem":24},"Authentication","/guides/authentication","1.guides/3.authentication",{"title":26,"path":27,"stem":28},"Pagination","/guides/pagination","1.guides/4.pagination",{"title":30,"path":31,"stem":32},"Webhooks","/guides/webhooks","1.guides/5.webhooks",{"title":34,"path":35,"stem":36},"Errors","/guides/errors","1.guides/6.errors",{"title":38,"path":39,"stem":40},"Idempotency","/guides/idempotency","1.guides/7.idempotency",false,{"title":43,"path":44,"stem":45,"children":46,"page":41},"API Reference","/api-reference","2.api-reference",[47,51,55,59,63,67,71,75,79],{"title":48,"path":49,"stem":50},"Customers","/api-reference/customers","2.api-reference/1.customers",{"title":52,"path":53,"stem":54},"Checkouts","/api-reference/checkouts","2.api-reference/2.checkouts",{"title":56,"path":57,"stem":58},"Subscriptions","/api-reference/subscriptions","2.api-reference/3.subscriptions",{"title":60,"path":61,"stem":62},"Subscription Plans","/api-reference/subscription-plans","2.api-reference/4.subscription-plans",{"title":64,"path":65,"stem":66},"One-off Products","/api-reference/one-off-products","2.api-reference/5.one-off-products",{"title":68,"path":69,"stem":70},"Orders","/api-reference/orders","2.api-reference/6.orders",{"title":72,"path":73,"stem":74},"Order Refunds","/api-reference/refunds","2.api-reference/7.refunds",{"title":76,"path":77,"stem":78},"Refunds","/api-reference/global-refunds","2.api-reference/8.global-refunds",{"title":80,"path":81,"stem":82},"Chargebacks","/api-reference/chargebacks","2.api-reference/9.chargebacks",{"title":84,"path":85,"stem":86,"children":87},"Packages","/packages","3.packages/0.index",[88,90,127],{"title":89,"path":85,"stem":86},"Overview",{"title":91,"path":92,"stem":93,"children":94,"page":41},"PHP SDK","/packages/php","3.packages/1.php",[95,99,102,105,108,111,114,117,121,124],{"title":96,"path":97,"stem":98},"Getting Started","/packages/php/readme","3.packages/1.php/0.readme",{"title":48,"path":100,"stem":101},"/packages/php/customers","3.packages/1.php/1.customers",{"title":52,"path":103,"stem":104},"/packages/php/checkouts","3.packages/1.php/2.checkouts",{"title":56,"path":106,"stem":107},"/packages/php/subscriptions","3.packages/1.php/3.subscriptions",{"title":60,"path":109,"stem":110},"/packages/php/subscriptionplans","3.packages/1.php/4.subscriptionplans",{"title":68,"path":112,"stem":113},"/packages/php/orders","3.packages/1.php/5.orders",{"title":76,"path":115,"stem":116},"/packages/php/refunds","3.packages/1.php/6.refunds",{"title":118,"path":119,"stem":120},"One-Off Products","/packages/php/oneoffproducts","3.packages/1.php/7.oneoffproducts",{"title":80,"path":122,"stem":123},"/packages/php/chargebacks","3.packages/1.php/8.chargebacks",{"title":30,"path":125,"stem":126},"/packages/php/webhooks","3.packages/1.php/9.webhooks",{"title":128,"path":129,"stem":130,"children":131,"page":41},"Laravel","/packages/laravel","3.packages/2.laravel",[132,135,138,141,144,147],{"title":96,"path":133,"stem":134},"/packages/laravel/readme","3.packages/2.laravel/0.readme",{"title":48,"path":136,"stem":137},"/packages/laravel/customers","3.packages/2.laravel/1.customers",{"title":52,"path":139,"stem":140},"/packages/laravel/checkouts","3.packages/2.laravel/2.checkouts",{"title":56,"path":142,"stem":143},"/packages/laravel/subscriptions","3.packages/2.laravel/3.subscriptions",{"title":68,"path":145,"stem":146},"/packages/laravel/orders","3.packages/2.laravel/4.orders",{"title":30,"path":148,"stem":149},"/packages/laravel/webhooks","3.packages/2.laravel/5.webhooks",{"title":151,"path":152,"stem":153},"Integrations","/integrations","4.integrations",{"id":155,"title":48,"body":156,"description":454,"extension":455,"links":456,"meta":457,"navigation":213,"path":136,"seo":459,"stem":137,"__hash__":460},"docs/3.packages/2.laravel/1.customers.md",{"type":157,"value":158,"toc":448},"minimark",[159,163,168,305,309,361,365,396,400,411,431,444],[160,161,162],"p",{},"Every billable model can be linked to a Vatly customer. The customer is created automatically when needed, or you can create one explicitly.",[164,165,167],"h2",{"id":166},"creating-a-customer","Creating a customer",[169,170,175],"pre",{"className":171,"code":172,"language":173,"meta":174,"style":174},"language-php shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","// Create a Vatly customer for this user\n$user->createAsVatlyCustomer();\n\n// Create with extra data\n$user->createAsVatlyCustomer([\n    'locale' => 'nl_NL',\n    'metadata' => ['internal_id' => $user->id],\n]);\n","php","",[176,177,178,187,208,215,221,235,262,299],"code",{"__ignoreMap":174},[179,180,183],"span",{"class":181,"line":182},"line",1,[179,184,186],{"class":185},"sHwdD","// Create a Vatly customer for this user\n",[179,188,190,194,198,201,205],{"class":181,"line":189},2,[179,191,193],{"class":192},"sMK4o","$",[179,195,197],{"class":196},"sTEyZ","user",[179,199,200],{"class":192},"->",[179,202,204],{"class":203},"s2Zo4","createAsVatlyCustomer",[179,206,207],{"class":192},"();\n",[179,209,211],{"class":181,"line":210},3,[179,212,214],{"emptyLinePlaceholder":213},true,"\n",[179,216,218],{"class":181,"line":217},4,[179,219,220],{"class":185},"// Create with extra data\n",[179,222,224,226,228,230,232],{"class":181,"line":223},5,[179,225,193],{"class":192},[179,227,197],{"class":196},[179,229,200],{"class":192},[179,231,204],{"class":203},[179,233,234],{"class":192},"([\n",[179,236,238,241,245,248,251,254,257,259],{"class":181,"line":237},6,[179,239,240],{"class":192},"    '",[179,242,244],{"class":243},"sfazB","locale",[179,246,247],{"class":192},"'",[179,249,250],{"class":192}," =>",[179,252,253],{"class":192}," '",[179,255,256],{"class":243},"nl_NL",[179,258,247],{"class":192},[179,260,261],{"class":192},",\n",[179,263,265,267,270,272,274,277,279,282,284,286,289,291,293,296],{"class":181,"line":264},7,[179,266,240],{"class":192},[179,268,269],{"class":243},"metadata",[179,271,247],{"class":192},[179,273,250],{"class":192},[179,275,276],{"class":192}," [",[179,278,247],{"class":192},[179,280,281],{"class":243},"internal_id",[179,283,247],{"class":192},[179,285,250],{"class":192},[179,287,288],{"class":192}," $",[179,290,197],{"class":196},[179,292,200],{"class":192},[179,294,295],{"class":196},"id",[179,297,298],{"class":192},"],\n",[179,300,302],{"class":181,"line":301},8,[179,303,304],{"class":192},"]);\n",[164,306,308],{"id":307},"checking-customer-status","Checking customer status",[169,310,312],{"className":171,"code":311,"language":173,"meta":174,"style":174},"// Check if the user has a Vatly customer ID\n$user->hasVatlyId(); // bool\n\n// Get the Vatly customer ID\n$user->vatlyId(); // string|null\n",[176,313,314,319,336,340,345],{"__ignoreMap":174},[179,315,316],{"class":181,"line":182},[179,317,318],{"class":185},"// Check if the user has a Vatly customer ID\n",[179,320,321,323,325,327,330,333],{"class":181,"line":189},[179,322,193],{"class":192},[179,324,197],{"class":196},[179,326,200],{"class":192},[179,328,329],{"class":203},"hasVatlyId",[179,331,332],{"class":192},"();",[179,334,335],{"class":185}," // bool\n",[179,337,338],{"class":181,"line":210},[179,339,214],{"emptyLinePlaceholder":213},[179,341,342],{"class":181,"line":217},[179,343,344],{"class":185},"// Get the Vatly customer ID\n",[179,346,347,349,351,353,356,358],{"class":181,"line":223},[179,348,193],{"class":192},[179,350,197],{"class":196},[179,352,200],{"class":192},[179,354,355],{"class":203},"vatlyId",[179,357,332],{"class":192},[179,359,360],{"class":185}," // string|null\n",[164,362,364],{"id":363},"retrieving-customer-data","Retrieving customer data",[169,366,368],{"className":171,"code":367,"language":173,"meta":174,"style":174},"// Get the full customer object from the Vatly API\n$customer = $user->asVatlyCustomer();\n",[176,369,370,375],{"__ignoreMap":174},[179,371,372],{"class":181,"line":182},[179,373,374],{"class":185},"// Get the full customer object from the Vatly API\n",[179,376,377,379,382,385,387,389,391,394],{"class":181,"line":189},[179,378,193],{"class":192},[179,380,381],{"class":196},"customer ",[179,383,384],{"class":192},"=",[179,386,288],{"class":192},[179,388,197],{"class":196},[179,390,200],{"class":192},[179,392,393],{"class":203},"asVatlyCustomer",[179,395,207],{"class":192},[164,397,399],{"id":398},"how-it-works","How it works",[160,401,402,403,406,407,410],{},"The ",[176,404,405],{},"vatly_id"," column on your billable model stores the Vatly customer identifier. When you call ",[176,408,409],{},"createAsVatlyCustomer()",", it:",[412,413,414,422,428],"ol",{},[415,416,417,418,421],"li",{},"Sends a ",[176,419,420],{},"POST"," request to the Vatly API to create a customer",[415,423,424,425,427],{},"Stores the returned customer ID in the ",[176,426,405],{}," column",[415,429,430],{},"Returns the customer response",[160,432,433,434,436,437,439,440,443],{},"If the user already has a ",[176,435,405],{},", calling ",[176,438,409],{}," will throw a ",[176,441,442],{},"CustomerAlreadyCreatedException",".",[445,446,447],"style",{},"html pre.shiki code .sHwdD, html code.shiki .sHwdD{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#546E7A;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .sMK4o, html code.shiki .sMK4o{--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF}html pre.shiki code .sTEyZ, html code.shiki .sTEyZ{--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8}html pre.shiki code .s2Zo4, html code.shiki .s2Zo4{--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF}html pre.shiki code .sfazB, html code.shiki .sfazB{--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":174,"searchDepth":189,"depth":189,"links":449},[450,451,452,453],{"id":166,"depth":189,"text":167},{"id":307,"depth":189,"text":308},{"id":363,"depth":189,"text":364},{"id":398,"depth":189,"text":399},"Vatly Laravel - Customers","md",null,{"editUrl":458},"https://github.com/vatly/vatly-laravel/edit/main/docs/Customers.md",{"title":48,"description":454},"gsQq7R1AIG_KOFS15KC1AB0niVhq1JeFuRV4KVz-SbU",[462,464],{"title":96,"path":133,"stem":134,"description":463,"children":-1},"Vatly Laravel - Getting Started",{"title":52,"path":139,"stem":140,"description":465,"children":-1},"Vatly Laravel - Checkouts",1772150455541]