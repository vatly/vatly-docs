[{"data":1,"prerenderedAt":1525},["ShallowReactive",2],{"navigation_docs":3,"-packages-php-webhooks":155,"-packages-php-webhooks-surround":1520},[4,8,42,83,151],{"title":5,"path":6,"stem":7},"Welcome to Vatly","/introduction","0.introduction",{"title":9,"path":10,"stem":11,"children":12,"page":41},"Guides","/guides","1.guides",[13,17,21,25,29,33,37],{"title":14,"path":15,"stem":16},"Quickstart","/guides/quickstart","1.guides/1.quickstart",{"title":18,"path":19,"stem":20},"Vatly SDKs","/guides/sdks","1.guides/2.sdks",{"title":22,"path":23,"stem":24},"Authentication","/guides/authentication","1.guides/3.authentication",{"title":26,"path":27,"stem":28},"Pagination","/guides/pagination","1.guides/4.pagination",{"title":30,"path":31,"stem":32},"Errors","/guides/errors","1.guides/5.errors",{"title":34,"path":35,"stem":36},"Webhooks","/guides/webhooks","1.guides/6.webhooks",{"title":38,"path":39,"stem":40},"Idempotency","/guides/idempotency","1.guides/7.idempotency",false,{"title":43,"path":44,"stem":45,"children":46,"page":41},"Api Reference","/api-reference","2.api-reference",[47,51,55,59,63,67,71,75,79],{"title":48,"path":49,"stem":50},"Customers","/api-reference/customers","2.api-reference/1.customers",{"title":52,"path":53,"stem":54},"Checkouts","/api-reference/checkouts","2.api-reference/2.checkouts",{"title":56,"path":57,"stem":58},"Subscriptions","/api-reference/subscriptions","2.api-reference/3.subscriptions",{"title":60,"path":61,"stem":62},"Subscription Plans","/api-reference/subscription-plans","2.api-reference/4.subscription-plans",{"title":64,"path":65,"stem":66},"Orders","/api-reference/orders","2.api-reference/5.orders",{"title":68,"path":69,"stem":70},"Order Refunds","/api-reference/refunds","2.api-reference/6.refunds",{"title":72,"path":73,"stem":74},"Refunds","/api-reference/global-refunds","2.api-reference/7.global-refunds",{"title":76,"path":77,"stem":78},"Chargebacks","/api-reference/chargebacks","2.api-reference/8.chargebacks",{"title":80,"path":81,"stem":82},"One-off Products","/api-reference/one-off-products","2.api-reference/9.one-off-products",{"title":84,"path":85,"stem":86,"children":87},"Packages","/packages","3.packages",[88,91,128],{"title":89,"path":85,"stem":90},"Overview","3.packages/index",{"title":92,"path":93,"stem":94,"children":95,"page":41},"Php","/packages/php","3.packages/1.php",[96,100,103,106,109,112,115,118,122,125],{"title":97,"path":98,"stem":99},"Getting Started","/packages/php/readme","3.packages/1.php/0.readme",{"title":48,"path":101,"stem":102},"/packages/php/customers","3.packages/1.php/1.customers",{"title":52,"path":104,"stem":105},"/packages/php/checkouts","3.packages/1.php/2.checkouts",{"title":56,"path":107,"stem":108},"/packages/php/subscriptions","3.packages/1.php/3.subscriptions",{"title":60,"path":110,"stem":111},"/packages/php/subscriptionplans","3.packages/1.php/4.subscriptionplans",{"title":64,"path":113,"stem":114},"/packages/php/orders","3.packages/1.php/5.orders",{"title":72,"path":116,"stem":117},"/packages/php/refunds","3.packages/1.php/6.refunds",{"title":119,"path":120,"stem":121},"One-Off Products","/packages/php/oneoffproducts","3.packages/1.php/7.oneoffproducts",{"title":76,"path":123,"stem":124},"/packages/php/chargebacks","3.packages/1.php/8.chargebacks",{"title":34,"path":126,"stem":127},"/packages/php/webhooks","3.packages/1.php/9.webhooks",{"title":129,"path":130,"stem":131,"children":132,"page":41},"Laravel","/packages/laravel","3.packages/2.laravel",[133,136,139,142,145,148],{"title":97,"path":134,"stem":135},"/packages/laravel/readme","3.packages/2.laravel/0.readme",{"title":48,"path":137,"stem":138},"/packages/laravel/customers","3.packages/2.laravel/1.customers",{"title":52,"path":140,"stem":141},"/packages/laravel/checkouts","3.packages/2.laravel/2.checkouts",{"title":56,"path":143,"stem":144},"/packages/laravel/subscriptions","3.packages/2.laravel/3.subscriptions",{"title":64,"path":146,"stem":147},"/packages/laravel/orders","3.packages/2.laravel/4.orders",{"title":34,"path":149,"stem":150},"/packages/laravel/webhooks","3.packages/2.laravel/5.webhooks",{"title":152,"path":153,"stem":154},"Integrations","/integrations","4.integrations",{"id":156,"title":34,"body":157,"description":1514,"extension":1515,"links":1516,"meta":1517,"navigation":476,"path":126,"seo":1518,"stem":127,"__hash__":1519},"docs/3.packages/1.php/9.webhooks.md",{"type":158,"value":159,"toc":1505},"minimark",[160,164,168,173,324,327,331,334,339,416,886,888,892,895,1046,1048,1052,1055,1377,1460,1462,1466,1501],[161,162,34],"h1",{"id":163},"webhooks",[165,166,167],"p",{},"Vatly sends webhooks to notify your application when events happen, like successful checkouts, subscription renewals, or chargebacks.",[169,170,172],"h2",{"id":171},"webhook-events","Webhook Events",[174,175,176,189],"table",{},[177,178,179],"thead",{},[180,181,182,186],"tr",{},[183,184,185],"th",{},"Event",[183,187,188],{},"Description",[190,191,192,204,214,224,234,244,254,264,274,284,294,304,314],"tbody",{},[180,193,194,201],{},[195,196,197],"td",{},[198,199,200],"code",{},"checkout.paid",[195,202,203],{},"Checkout completed successfully",[180,205,206,211],{},[195,207,208],{},[198,209,210],{},"checkout.failed",[195,212,213],{},"Checkout payment failed",[180,215,216,221],{},[195,217,218],{},[198,219,220],{},"checkout.expired",[195,222,223],{},"Checkout expired",[180,225,226,231],{},[195,227,228],{},[198,229,230],{},"subscription.created",[195,232,233],{},"New subscription started",[180,235,236,241],{},[195,237,238],{},[198,239,240],{},"subscription.renewed",[195,242,243],{},"Subscription renewed",[180,245,246,251],{},[195,247,248],{},[198,249,250],{},"subscription.canceled",[195,252,253],{},"Subscription canceled",[180,255,256,261],{},[195,257,258],{},[198,259,260],{},"subscription.ended",[195,262,263],{},"Subscription ended",[180,265,266,271],{},[195,267,268],{},[198,269,270],{},"order.paid",[195,272,273],{},"Order payment received",[180,275,276,281],{},[195,277,278],{},[198,279,280],{},"refund.created",[195,282,283],{},"Refund initiated",[180,285,286,291],{},[195,287,288],{},[198,289,290],{},"refund.completed",[195,292,293],{},"Refund completed",[180,295,296,301],{},[195,297,298],{},[198,299,300],{},"chargeback.created",[195,302,303],{},"Chargeback received",[180,305,306,311],{},[195,307,308],{},[198,309,310],{},"chargeback.won",[195,312,313],{},"Chargeback dispute won",[180,315,316,321],{},[195,317,318],{},[198,319,320],{},"chargeback.lost",[195,322,323],{},"Chargeback dispute lost",[325,326],"hr",{},[169,328,330],{"id":329},"handling-webhooks","Handling webhooks",[165,332,333],{},"The SDK provides a helper to parse and verify incoming webhooks.",[335,336,338],"h3",{"id":337},"webhook-payload","Webhook payload",[174,340,341,353],{},[177,342,343],{},[180,344,345,348,351],{},[183,346,347],{},"Name",[183,349,350],{},"Type",[183,352,188],{},[190,354,355,370,387,402],{},[180,356,357,362,367],{},[195,358,359],{},[198,360,361],{},"id",[195,363,364],{},[198,365,366],{},"string",[195,368,369],{},"Unique webhook event ID.",[180,371,372,377,381],{},[195,373,374],{},[198,375,376],{},"type",[195,378,379],{},[198,380,366],{},[195,382,383,384,386],{},"Event type (e.g., ",[198,385,200],{},").",[180,388,389,394,399],{},[195,390,391],{},[198,392,393],{},"data",[195,395,396],{},[198,397,398],{},"object",[195,400,401],{},"The resource object that triggered the event.",[180,403,404,409,413],{},[195,405,406],{},[198,407,408],{},"createdAt",[195,410,411],{},[198,412,366],{},[195,414,415],{},"When the event occurred (ISO 8601).",[417,418,423],"pre",{"className":419,"code":420,"language":421,"meta":422,"style":422},"language-php shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","use Vatly\\API\\VatlyApiClient;\nuse Vatly\\API\\Webhook;\n\n$vatly = new VatlyApiClient();\n$vatly->setApiKey('live_your_api_key_here');\n\n// Get the raw webhook payload\n$payload = file_get_contents('php://input');\n$signature = $_SERVER['HTTP_VATLY_SIGNATURE'] ?? '';\n$secret = 'your_webhook_secret';\n\n// Parse and verify the webhook\n$event = Webhook::parse($payload, $signature, $secret);\n\nswitch ($event->type) {\n    case 'checkout.paid':\n        $checkout = $event->data;\n        // Fulfill the order\n        break;\n\n    case 'subscription.renewed':\n        $subscription = $event->data;\n        // Extend access\n        break;\n\n    case 'chargeback.created':\n        $chargeback = $event->data;\n        // Suspend account, notify team\n        break;\n}\n\n// Return 200 OK\nhttp_response_code(200);\n","php","",[198,424,425,453,471,478,500,530,535,542,566,603,623,628,634,676,681,704,719,740,746,754,759,772,792,798,805,810,823,843,849,856,862,867,873],{"__ignoreMap":422},[426,427,430,434,438,442,445,447,450],"span",{"class":428,"line":429},"line",1,[426,431,433],{"class":432},"sbssI","use",[426,435,437],{"class":436},"sTEyZ"," Vatly",[426,439,441],{"class":440},"sMK4o","\\",[426,443,444],{"class":436},"API",[426,446,441],{"class":440},[426,448,449],{"class":436},"VatlyApiClient",[426,451,452],{"class":440},";\n",[426,454,456,458,460,462,464,466,469],{"class":428,"line":455},2,[426,457,433],{"class":432},[426,459,437],{"class":436},[426,461,441],{"class":440},[426,463,444],{"class":436},[426,465,441],{"class":440},[426,467,468],{"class":436},"Webhook",[426,470,452],{"class":440},[426,472,474],{"class":428,"line":473},3,[426,475,477],{"emptyLinePlaceholder":476},true,"\n",[426,479,481,484,487,490,493,497],{"class":428,"line":480},4,[426,482,483],{"class":440},"$",[426,485,486],{"class":436},"vatly ",[426,488,489],{"class":440},"=",[426,491,492],{"class":432}," new",[426,494,496],{"class":495},"sBMFI"," VatlyApiClient",[426,498,499],{"class":440},"();\n",[426,501,503,505,508,511,515,518,521,525,527],{"class":428,"line":502},5,[426,504,483],{"class":440},[426,506,507],{"class":436},"vatly",[426,509,510],{"class":440},"->",[426,512,514],{"class":513},"s2Zo4","setApiKey",[426,516,517],{"class":440},"(",[426,519,520],{"class":440},"'",[426,522,524],{"class":523},"sfazB","live_your_api_key_here",[426,526,520],{"class":440},[426,528,529],{"class":440},");\n",[426,531,533],{"class":428,"line":532},6,[426,534,477],{"emptyLinePlaceholder":476},[426,536,538],{"class":428,"line":537},7,[426,539,541],{"class":540},"sHwdD","// Get the raw webhook payload\n",[426,543,545,547,550,552,555,557,559,562,564],{"class":428,"line":544},8,[426,546,483],{"class":440},[426,548,549],{"class":436},"payload ",[426,551,489],{"class":440},[426,553,554],{"class":513}," file_get_contents",[426,556,517],{"class":440},[426,558,520],{"class":440},[426,560,561],{"class":523},"php://input",[426,563,520],{"class":440},[426,565,529],{"class":440},[426,567,569,571,574,576,579,582,585,587,590,592,595,598,601],{"class":428,"line":568},9,[426,570,483],{"class":440},[426,572,573],{"class":436},"signature ",[426,575,489],{"class":440},[426,577,578],{"class":440}," $",[426,580,581],{"class":436},"_SERVER",[426,583,584],{"class":440},"[",[426,586,520],{"class":440},[426,588,589],{"class":523},"HTTP_VATLY_SIGNATURE",[426,591,520],{"class":440},[426,593,594],{"class":440},"]",[426,596,597],{"class":440}," ??",[426,599,600],{"class":440}," ''",[426,602,452],{"class":440},[426,604,606,608,611,613,616,619,621],{"class":428,"line":605},10,[426,607,483],{"class":440},[426,609,610],{"class":436},"secret ",[426,612,489],{"class":440},[426,614,615],{"class":440}," '",[426,617,618],{"class":523},"your_webhook_secret",[426,620,520],{"class":440},[426,622,452],{"class":440},[426,624,626],{"class":428,"line":625},11,[426,627,477],{"emptyLinePlaceholder":476},[426,629,631],{"class":428,"line":630},12,[426,632,633],{"class":540},"// Parse and verify the webhook\n",[426,635,637,639,642,644,647,650,653,656,659,662,664,667,669,671,674],{"class":428,"line":636},13,[426,638,483],{"class":440},[426,640,641],{"class":436},"event ",[426,643,489],{"class":440},[426,645,646],{"class":495}," Webhook",[426,648,649],{"class":440},"::",[426,651,652],{"class":513},"parse",[426,654,655],{"class":440},"($",[426,657,658],{"class":436},"payload",[426,660,661],{"class":440},",",[426,663,578],{"class":440},[426,665,666],{"class":436},"signature",[426,668,661],{"class":440},[426,670,578],{"class":440},[426,672,673],{"class":436},"secret",[426,675,529],{"class":440},[426,677,679],{"class":428,"line":678},14,[426,680,477],{"emptyLinePlaceholder":476},[426,682,684,688,691,694,696,698,701],{"class":428,"line":683},15,[426,685,687],{"class":686},"s7zQu","switch",[426,689,690],{"class":440}," ($",[426,692,693],{"class":436},"event",[426,695,510],{"class":440},[426,697,376],{"class":436},[426,699,700],{"class":440},")",[426,702,703],{"class":440}," {\n",[426,705,707,710,712,714,716],{"class":428,"line":706},16,[426,708,709],{"class":686},"    case",[426,711,615],{"class":440},[426,713,200],{"class":523},[426,715,520],{"class":440},[426,717,718],{"class":440},":\n",[426,720,722,725,728,730,732,734,736,738],{"class":428,"line":721},17,[426,723,724],{"class":440},"        $",[426,726,727],{"class":436},"checkout ",[426,729,489],{"class":440},[426,731,578],{"class":440},[426,733,693],{"class":436},[426,735,510],{"class":440},[426,737,393],{"class":436},[426,739,452],{"class":440},[426,741,743],{"class":428,"line":742},18,[426,744,745],{"class":540},"        // Fulfill the order\n",[426,747,749,752],{"class":428,"line":748},19,[426,750,751],{"class":686},"        break",[426,753,452],{"class":440},[426,755,757],{"class":428,"line":756},20,[426,758,477],{"emptyLinePlaceholder":476},[426,760,762,764,766,768,770],{"class":428,"line":761},21,[426,763,709],{"class":686},[426,765,615],{"class":440},[426,767,240],{"class":523},[426,769,520],{"class":440},[426,771,718],{"class":440},[426,773,775,777,780,782,784,786,788,790],{"class":428,"line":774},22,[426,776,724],{"class":440},[426,778,779],{"class":436},"subscription ",[426,781,489],{"class":440},[426,783,578],{"class":440},[426,785,693],{"class":436},[426,787,510],{"class":440},[426,789,393],{"class":436},[426,791,452],{"class":440},[426,793,795],{"class":428,"line":794},23,[426,796,797],{"class":540},"        // Extend access\n",[426,799,801,803],{"class":428,"line":800},24,[426,802,751],{"class":686},[426,804,452],{"class":440},[426,806,808],{"class":428,"line":807},25,[426,809,477],{"emptyLinePlaceholder":476},[426,811,813,815,817,819,821],{"class":428,"line":812},26,[426,814,709],{"class":686},[426,816,615],{"class":440},[426,818,300],{"class":523},[426,820,520],{"class":440},[426,822,718],{"class":440},[426,824,826,828,831,833,835,837,839,841],{"class":428,"line":825},27,[426,827,724],{"class":440},[426,829,830],{"class":436},"chargeback ",[426,832,489],{"class":440},[426,834,578],{"class":440},[426,836,693],{"class":436},[426,838,510],{"class":440},[426,840,393],{"class":436},[426,842,452],{"class":440},[426,844,846],{"class":428,"line":845},28,[426,847,848],{"class":540},"        // Suspend account, notify team\n",[426,850,852,854],{"class":428,"line":851},29,[426,853,751],{"class":686},[426,855,452],{"class":440},[426,857,859],{"class":428,"line":858},30,[426,860,861],{"class":440},"}\n",[426,863,865],{"class":428,"line":864},31,[426,866,477],{"emptyLinePlaceholder":476},[426,868,870],{"class":428,"line":869},32,[426,871,872],{"class":540},"// Return 200 OK\n",[426,874,876,879,881,884],{"class":428,"line":875},33,[426,877,878],{"class":513},"http_response_code",[426,880,517],{"class":440},[426,882,883],{"class":432},"200",[426,885,529],{"class":440},[325,887],{},[169,889,891],{"id":890},"signature-verification","Signature verification",[165,893,894],{},"Always verify webhook signatures to ensure the request came from Vatly.",[417,896,898],{"className":419,"code":897,"language":421,"meta":422,"style":422},"use Vatly\\API\\Webhook;\nuse Vatly\\API\\Exceptions\\InvalidSignatureException;\n\ntry {\n    $event = Webhook::parse($payload, $signature, $secret);\n    // Signature valid, process event\n} catch (InvalidSignatureException $e) {\n    // Invalid signature, reject request\n    http_response_code(401);\n    exit('Invalid signature');\n}\n",[198,899,900,916,938,942,949,982,987,1009,1014,1026,1042],{"__ignoreMap":422},[426,901,902,904,906,908,910,912,914],{"class":428,"line":429},[426,903,433],{"class":432},[426,905,437],{"class":436},[426,907,441],{"class":440},[426,909,444],{"class":436},[426,911,441],{"class":440},[426,913,468],{"class":436},[426,915,452],{"class":440},[426,917,918,920,922,924,926,928,931,933,936],{"class":428,"line":455},[426,919,433],{"class":432},[426,921,437],{"class":436},[426,923,441],{"class":440},[426,925,444],{"class":436},[426,927,441],{"class":440},[426,929,930],{"class":436},"Exceptions",[426,932,441],{"class":440},[426,934,935],{"class":436},"InvalidSignatureException",[426,937,452],{"class":440},[426,939,940],{"class":428,"line":473},[426,941,477],{"emptyLinePlaceholder":476},[426,943,944,947],{"class":428,"line":480},[426,945,946],{"class":686},"try",[426,948,703],{"class":440},[426,950,951,954,956,958,960,962,964,966,968,970,972,974,976,978,980],{"class":428,"line":502},[426,952,953],{"class":440},"    $",[426,955,641],{"class":436},[426,957,489],{"class":440},[426,959,646],{"class":495},[426,961,649],{"class":440},[426,963,652],{"class":513},[426,965,655],{"class":440},[426,967,658],{"class":436},[426,969,661],{"class":440},[426,971,578],{"class":440},[426,973,666],{"class":436},[426,975,661],{"class":440},[426,977,578],{"class":440},[426,979,673],{"class":436},[426,981,529],{"class":440},[426,983,984],{"class":428,"line":532},[426,985,986],{"class":540},"    // Signature valid, process event\n",[426,988,989,992,995,998,1000,1002,1005,1007],{"class":428,"line":537},[426,990,991],{"class":440},"}",[426,993,994],{"class":686}," catch",[426,996,997],{"class":440}," (",[426,999,935],{"class":495},[426,1001,578],{"class":440},[426,1003,1004],{"class":436},"e",[426,1006,700],{"class":440},[426,1008,703],{"class":440},[426,1010,1011],{"class":428,"line":544},[426,1012,1013],{"class":540},"    // Invalid signature, reject request\n",[426,1015,1016,1019,1021,1024],{"class":428,"line":568},[426,1017,1018],{"class":513},"    http_response_code",[426,1020,517],{"class":440},[426,1022,1023],{"class":432},"401",[426,1025,529],{"class":440},[426,1027,1028,1031,1033,1035,1038,1040],{"class":428,"line":605},[426,1029,1030],{"class":686},"    exit",[426,1032,517],{"class":440},[426,1034,520],{"class":440},[426,1036,1037],{"class":523},"Invalid signature",[426,1039,520],{"class":440},[426,1041,529],{"class":440},[426,1043,1044],{"class":428,"line":625},[426,1045,861],{"class":440},[325,1047],{},[169,1049,1051],{"id":1050},"laravel-integration","Laravel integration",[165,1053,1054],{},"For Laravel applications, you can use controller middleware and route handling.",[417,1056,1058],{"className":419,"code":1057,"language":421,"meta":422,"style":422},"namespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\Request;\nuse Vatly\\API\\Webhook;\n\nclass VatlyWebhookController extends Controller\n{\n    public function handle(Request $request)\n    {\n        $event = Webhook::parse(\n            $request->getContent(),\n            $request->header('Vatly-Signature'),\n            config('services.vatly.webhook_secret')\n        );\n\n        match ($event->type) {\n            'checkout.paid' => $this->handleCheckoutPaid($event->data),\n            'subscription.canceled' => $this->handleCanceled($event->data),\n            default => null,\n        };\n\n        return response()->json(['received' => true]);\n    }\n}\n",[198,1059,1060,1080,1084,1102,1118,1122,1137,1142,1165,1170,1187,1202,1225,1241,1246,1250,1267,1295,1320,1330,1335,1339,1368,1373],{"__ignoreMap":422},[426,1061,1062,1065,1068,1070,1073,1075,1078],{"class":428,"line":429},[426,1063,1064],{"class":432},"namespace",[426,1066,1067],{"class":495}," App",[426,1069,441],{"class":440},[426,1071,1072],{"class":495},"Http",[426,1074,441],{"class":440},[426,1076,1077],{"class":495},"Controllers",[426,1079,452],{"class":440},[426,1081,1082],{"class":428,"line":455},[426,1083,477],{"emptyLinePlaceholder":476},[426,1085,1086,1088,1091,1093,1095,1097,1100],{"class":428,"line":473},[426,1087,433],{"class":432},[426,1089,1090],{"class":436}," Illuminate",[426,1092,441],{"class":440},[426,1094,1072],{"class":436},[426,1096,441],{"class":440},[426,1098,1099],{"class":436},"Request",[426,1101,452],{"class":440},[426,1103,1104,1106,1108,1110,1112,1114,1116],{"class":428,"line":480},[426,1105,433],{"class":432},[426,1107,437],{"class":436},[426,1109,441],{"class":440},[426,1111,444],{"class":436},[426,1113,441],{"class":440},[426,1115,468],{"class":436},[426,1117,452],{"class":440},[426,1119,1120],{"class":428,"line":502},[426,1121,477],{"emptyLinePlaceholder":476},[426,1123,1124,1128,1131,1134],{"class":428,"line":532},[426,1125,1127],{"class":1126},"spNyl","class",[426,1129,1130],{"class":495}," VatlyWebhookController",[426,1132,1133],{"class":1126}," extends",[426,1135,1136],{"class":495}," Controller\n",[426,1138,1139],{"class":428,"line":537},[426,1140,1141],{"class":440},"{\n",[426,1143,1144,1147,1150,1153,1155,1157,1159,1162],{"class":428,"line":544},[426,1145,1146],{"class":1126},"    public",[426,1148,1149],{"class":1126}," function",[426,1151,1152],{"class":513}," handle",[426,1154,517],{"class":440},[426,1156,1099],{"class":495},[426,1158,578],{"class":440},[426,1160,1161],{"class":436},"request",[426,1163,1164],{"class":440},")\n",[426,1166,1167],{"class":428,"line":568},[426,1168,1169],{"class":440},"    {\n",[426,1171,1172,1174,1176,1178,1180,1182,1184],{"class":428,"line":605},[426,1173,724],{"class":440},[426,1175,641],{"class":436},[426,1177,489],{"class":440},[426,1179,646],{"class":495},[426,1181,649],{"class":440},[426,1183,652],{"class":513},[426,1185,1186],{"class":440},"(\n",[426,1188,1189,1192,1194,1196,1199],{"class":428,"line":625},[426,1190,1191],{"class":440},"            $",[426,1193,1161],{"class":436},[426,1195,510],{"class":440},[426,1197,1198],{"class":513},"getContent",[426,1200,1201],{"class":440},"(),\n",[426,1203,1204,1206,1208,1210,1213,1215,1217,1220,1222],{"class":428,"line":630},[426,1205,1191],{"class":440},[426,1207,1161],{"class":436},[426,1209,510],{"class":440},[426,1211,1212],{"class":513},"header",[426,1214,517],{"class":440},[426,1216,520],{"class":440},[426,1218,1219],{"class":523},"Vatly-Signature",[426,1221,520],{"class":440},[426,1223,1224],{"class":440},"),\n",[426,1226,1227,1230,1232,1234,1237,1239],{"class":428,"line":636},[426,1228,1229],{"class":513},"            config",[426,1231,517],{"class":440},[426,1233,520],{"class":440},[426,1235,1236],{"class":523},"services.vatly.webhook_secret",[426,1238,520],{"class":440},[426,1240,1164],{"class":440},[426,1242,1243],{"class":428,"line":678},[426,1244,1245],{"class":440},"        );\n",[426,1247,1248],{"class":428,"line":683},[426,1249,477],{"emptyLinePlaceholder":476},[426,1251,1252,1255,1257,1259,1261,1263,1265],{"class":428,"line":706},[426,1253,1254],{"class":686},"        match",[426,1256,690],{"class":440},[426,1258,693],{"class":436},[426,1260,510],{"class":440},[426,1262,376],{"class":436},[426,1264,700],{"class":440},[426,1266,703],{"class":440},[426,1268,1269,1272,1274,1276,1279,1282,1285,1287,1289,1291,1293],{"class":428,"line":721},[426,1270,1271],{"class":440},"            '",[426,1273,200],{"class":523},[426,1275,520],{"class":440},[426,1277,1278],{"class":440}," =>",[426,1280,1281],{"class":440}," $this->",[426,1283,1284],{"class":513},"handleCheckoutPaid",[426,1286,655],{"class":440},[426,1288,693],{"class":436},[426,1290,510],{"class":440},[426,1292,393],{"class":436},[426,1294,1224],{"class":440},[426,1296,1297,1299,1301,1303,1305,1307,1310,1312,1314,1316,1318],{"class":428,"line":742},[426,1298,1271],{"class":440},[426,1300,250],{"class":523},[426,1302,520],{"class":440},[426,1304,1278],{"class":440},[426,1306,1281],{"class":440},[426,1308,1309],{"class":513},"handleCanceled",[426,1311,655],{"class":440},[426,1313,693],{"class":436},[426,1315,510],{"class":440},[426,1317,393],{"class":436},[426,1319,1224],{"class":440},[426,1321,1322,1325,1327],{"class":428,"line":748},[426,1323,1324],{"class":686},"            default",[426,1326,1278],{"class":440},[426,1328,1329],{"class":440}," null,\n",[426,1331,1332],{"class":428,"line":756},[426,1333,1334],{"class":440},"        };\n",[426,1336,1337],{"class":428,"line":761},[426,1338,477],{"emptyLinePlaceholder":476},[426,1340,1341,1344,1347,1350,1353,1356,1358,1361,1363,1365],{"class":428,"line":774},[426,1342,1343],{"class":686},"        return",[426,1345,1346],{"class":513}," response",[426,1348,1349],{"class":440},"()->",[426,1351,1352],{"class":513},"json",[426,1354,1355],{"class":440},"([",[426,1357,520],{"class":440},[426,1359,1360],{"class":523},"received",[426,1362,520],{"class":440},[426,1364,1278],{"class":440},[426,1366,1367],{"class":440}," true]);\n",[426,1369,1370],{"class":428,"line":794},[426,1371,1372],{"class":440},"    }\n",[426,1374,1375],{"class":428,"line":800},[426,1376,861],{"class":440},[417,1378,1380],{"className":419,"code":1379,"language":421,"meta":422,"style":422},"Route::post('/webhooks/vatly', [VatlyWebhookController::class, 'handle'])\n    ->withoutMiddleware([\\App\\Http\\Middleware\\VerifyCsrfToken::class]);\n",[198,1381,1382,1425],{"__ignoreMap":422},[426,1383,1384,1387,1389,1392,1394,1396,1399,1401,1403,1406,1409,1411,1413,1415,1417,1420,1422],{"class":428,"line":429},[426,1385,1386],{"class":495},"Route",[426,1388,649],{"class":440},[426,1390,1391],{"class":513},"post",[426,1393,517],{"class":440},[426,1395,520],{"class":440},[426,1397,1398],{"class":523},"/webhooks/vatly",[426,1400,520],{"class":440},[426,1402,661],{"class":440},[426,1404,1405],{"class":440}," [",[426,1407,1408],{"class":495},"VatlyWebhookController",[426,1410,649],{"class":440},[426,1412,1127],{"class":432},[426,1414,661],{"class":440},[426,1416,615],{"class":440},[426,1418,1419],{"class":523},"handle",[426,1421,520],{"class":440},[426,1423,1424],{"class":440},"])\n",[426,1426,1427,1430,1433,1436,1439,1441,1443,1445,1448,1450,1453,1455,1457],{"class":428,"line":455},[426,1428,1429],{"class":440},"    ->",[426,1431,1432],{"class":513},"withoutMiddleware",[426,1434,1435],{"class":440},"([\\",[426,1437,1438],{"class":436},"App",[426,1440,441],{"class":440},[426,1442,1072],{"class":436},[426,1444,441],{"class":440},[426,1446,1447],{"class":436},"Middleware",[426,1449,441],{"class":440},[426,1451,1452],{"class":495},"VerifyCsrfToken",[426,1454,649],{"class":440},[426,1456,1127],{"class":432},[426,1458,1459],{"class":440},"]);\n",[325,1461],{},[169,1463,1465],{"id":1464},"best-practices","Best practices",[1467,1468,1469,1477,1483,1489,1495],"ol",{},[1470,1471,1472,1476],"li",{},[1473,1474,1475],"strong",{},"Always verify signatures"," before processing webhooks",[1470,1478,1479,1482],{},[1473,1480,1481],{},"Return 200 quickly"," to avoid timeout retries",[1470,1484,1485,1488],{},[1473,1486,1487],{},"Process asynchronously"," for long-running tasks (queue jobs)",[1470,1490,1491,1494],{},[1473,1492,1493],{},"Handle duplicates"," using the event ID (webhooks may be retried)",[1470,1496,1497,1500],{},[1473,1498,1499],{},"Log webhook events"," for debugging and auditing",[1502,1503,1504],"style",{},"html pre.shiki code .sbssI, html code.shiki .sbssI{--shiki-light:#F76D47;--shiki-default:#F78C6C;--shiki-dark:#F78C6C}html pre.shiki code .sTEyZ, html code.shiki .sTEyZ{--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8}html pre.shiki code .sMK4o, html code.shiki .sMK4o{--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF}html pre.shiki code .sBMFI, html code.shiki .sBMFI{--shiki-light:#E2931D;--shiki-default:#FFCB6B;--shiki-dark:#FFCB6B}html pre.shiki code .s2Zo4, html code.shiki .s2Zo4{--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF}html pre.shiki code .sfazB, html code.shiki .sfazB{--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D}html pre.shiki code .sHwdD, html code.shiki .sHwdD{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#546E7A;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}html pre.shiki code .s7zQu, html code.shiki .s7zQu{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#89DDFF;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .spNyl, html code.shiki .spNyl{--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA}",{"title":422,"searchDepth":455,"depth":455,"links":1506},[1507,1508,1511,1512,1513],{"id":171,"depth":455,"text":172},{"id":329,"depth":455,"text":330,"children":1509},[1510],{"id":337,"depth":473,"text":338},{"id":890,"depth":455,"text":891},{"id":1050,"depth":455,"text":1051},{"id":1464,"depth":455,"text":1465},"Vatly PHP SDK - Webhooks","md",null,{},{"title":34,"description":1514},"Za_HmSJiYnt3QoBmKXvJ6pbJw_PspiOEZmJsJN18inA",[1521,1523],{"title":76,"path":123,"stem":124,"description":1522,"children":-1},"Vatly PHP SDK - Chargebacks",{"title":97,"path":134,"stem":135,"description":1524,"children":-1},"Vatly Laravel Package - Getting Started",1772233998172]