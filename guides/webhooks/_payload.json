[{"data":1,"prerenderedAt":1844},["ShallowReactive",2],{"navigation_docs":3,"-guides-webhooks":154,"-guides-webhooks-surround":1839},[4,8,42,83,150],{"title":5,"path":6,"stem":7},"Welcome to Vatly","/introduction","0.introduction",{"title":9,"path":10,"stem":11,"children":12,"page":41},"Guides","/guides","1.guides",[13,17,21,25,29,33,37],{"title":14,"path":15,"stem":16},"Quickstart","/guides/quickstart","1.guides/1.quickstart",{"title":18,"path":19,"stem":20},"SDKs & Packages","/guides/sdks","1.guides/2.sdks",{"title":22,"path":23,"stem":24},"Authentication","/guides/authentication","1.guides/3.authentication",{"title":26,"path":27,"stem":28},"Pagination","/guides/pagination","1.guides/4.pagination",{"title":30,"path":31,"stem":32},"Webhooks","/guides/webhooks","1.guides/5.webhooks",{"title":34,"path":35,"stem":36},"Errors","/guides/errors","1.guides/6.errors",{"title":38,"path":39,"stem":40},"Idempotency","/guides/idempotency","1.guides/7.idempotency",false,{"title":43,"path":44,"stem":45,"children":46,"page":41},"API Reference","/api-reference","2.api-reference",[47,51,55,59,63,67,71,75,79],{"title":48,"path":49,"stem":50},"Customers","/api-reference/customers","2.api-reference/1.customers",{"title":52,"path":53,"stem":54},"Checkouts","/api-reference/checkouts","2.api-reference/2.checkouts",{"title":56,"path":57,"stem":58},"Subscriptions","/api-reference/subscriptions","2.api-reference/3.subscriptions",{"title":60,"path":61,"stem":62},"Subscription Plans","/api-reference/subscription-plans","2.api-reference/4.subscription-plans",{"title":64,"path":65,"stem":66},"One-off Products","/api-reference/one-off-products","2.api-reference/5.one-off-products",{"title":68,"path":69,"stem":70},"Orders","/api-reference/orders","2.api-reference/6.orders",{"title":72,"path":73,"stem":74},"Order Refunds","/api-reference/refunds","2.api-reference/7.refunds",{"title":76,"path":77,"stem":78},"Refunds","/api-reference/global-refunds","2.api-reference/8.global-refunds",{"title":80,"path":81,"stem":82},"Chargebacks","/api-reference/chargebacks","2.api-reference/9.chargebacks",{"title":84,"path":85,"stem":86,"children":87},"Packages","/packages","3.packages/0.index",[88,90,127],{"title":89,"path":85,"stem":86},"Overview",{"title":91,"path":92,"stem":93,"children":94,"page":41},"PHP SDK","/packages/php","3.packages/1.php",[95,99,102,105,108,111,114,117,121,124],{"title":96,"path":97,"stem":98},"Getting Started","/packages/php/readme","3.packages/1.php/0.readme",{"title":48,"path":100,"stem":101},"/packages/php/customers","3.packages/1.php/1.customers",{"title":52,"path":103,"stem":104},"/packages/php/checkouts","3.packages/1.php/2.checkouts",{"title":56,"path":106,"stem":107},"/packages/php/subscriptions","3.packages/1.php/3.subscriptions",{"title":60,"path":109,"stem":110},"/packages/php/subscriptionplans","3.packages/1.php/4.subscriptionplans",{"title":68,"path":112,"stem":113},"/packages/php/orders","3.packages/1.php/5.orders",{"title":76,"path":115,"stem":116},"/packages/php/refunds","3.packages/1.php/6.refunds",{"title":118,"path":119,"stem":120},"One-Off Products","/packages/php/oneoffproducts","3.packages/1.php/7.oneoffproducts",{"title":80,"path":122,"stem":123},"/packages/php/chargebacks","3.packages/1.php/8.chargebacks",{"title":30,"path":125,"stem":126},"/packages/php/webhooks","3.packages/1.php/9.webhooks",{"title":128,"path":129,"stem":130,"children":131,"page":41},"Laravel","/packages/laravel","3.packages/2.laravel",[132,135,138,141,144,147],{"title":96,"path":133,"stem":134},"/packages/laravel/readme","3.packages/2.laravel/0.readme",{"title":48,"path":136,"stem":137},"/packages/laravel/customers","3.packages/2.laravel/1.customers",{"title":52,"path":139,"stem":140},"/packages/laravel/checkouts","3.packages/2.laravel/2.checkouts",{"title":56,"path":142,"stem":143},"/packages/laravel/subscriptions","3.packages/2.laravel/3.subscriptions",{"title":68,"path":145,"stem":146},"/packages/laravel/orders","3.packages/2.laravel/4.orders",{"title":30,"path":148,"stem":149},"/packages/laravel/webhooks","3.packages/2.laravel/5.webhooks",{"title":151,"path":152,"stem":153},"Integrations","/integrations","4.integrations",{"id":155,"title":30,"body":156,"description":1833,"extension":1834,"links":1835,"meta":1836,"navigation":1466,"path":31,"seo":1837,"stem":32,"__hash__":1838},"docs/1.guides/5.webhooks.md",{"type":157,"value":158,"toc":1824},"minimark",[159,164,179,182,186,190,198,313,324,329,333,336,339,343,472,477,481,882,885,1348,1350,1354,1361,1814,1820],[160,161,163],"h2",{"id":162},"registering-webhooks","Registering webhooks",[165,166,167,168,173,174,178],"p",{},"To register a new webhook, you need to have a URL in your app that Vatly can call. You can configure a new webhook from the Vatly dashboard under ",[169,170,172],"a",{"href":171},"#","API settings",". Give your webhook a name, pick the ",[169,175,177],{"href":176},"#event-types","events"," you want to listen for, and add your URL.",[165,180,181],{},"Now, whenever something of interest happens in your app, a webhook is fired off by Vatly. In the next section, we'll look at how to consume webhooks.",[183,184,185],"note",{},"For security reasons, your webhook URL needs to be HTTPS with a valid certificate and reachable from Vatly.",[160,187,189],{"id":188},"consuming-webhooks","Consuming webhooks",[165,191,192,193,197],{},"When your app receives a webhook request from Vatly, check the ",[194,195,196],"code",{},"type"," attribute to see what event caused it. The first part of the event type will tell you the payload type, e.g., a checkout, subscription, etc.",[199,200,206],"pre",{"className":201,"code":202,"filename":203,"language":204,"meta":205,"style":205},"language-json shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","{\n  \"id\": \"whk_a056V9ZCh6X9XZlr\",\n  \"type\": \"subscription.updated\",\n  \"payload\": {\n    \"id\": \"sub_WAz8eIbvDR60rouK\"\n  }\n}\n","Example webhook payload","json","",[194,207,208,217,245,265,280,301,307],{"__ignoreMap":205},[209,210,213],"span",{"class":211,"line":212},"line",1,[209,214,216],{"class":215},"sMK4o","{\n",[209,218,220,223,227,230,233,236,240,242],{"class":211,"line":219},2,[209,221,222],{"class":215},"  \"",[209,224,226],{"class":225},"spNyl","id",[209,228,229],{"class":215},"\"",[209,231,232],{"class":215},":",[209,234,235],{"class":215}," \"",[209,237,239],{"class":238},"sfazB","whk_a056V9ZCh6X9XZlr",[209,241,229],{"class":215},[209,243,244],{"class":215},",\n",[209,246,248,250,252,254,256,258,261,263],{"class":211,"line":247},3,[209,249,222],{"class":215},[209,251,196],{"class":225},[209,253,229],{"class":215},[209,255,232],{"class":215},[209,257,235],{"class":215},[209,259,260],{"class":238},"subscription.updated",[209,262,229],{"class":215},[209,264,244],{"class":215},[209,266,268,270,273,275,277],{"class":211,"line":267},4,[209,269,222],{"class":215},[209,271,272],{"class":225},"payload",[209,274,229],{"class":215},[209,276,232],{"class":215},[209,278,279],{"class":215}," {\n",[209,281,283,286,289,291,293,295,298],{"class":211,"line":282},5,[209,284,285],{"class":215},"    \"",[209,287,226],{"class":288},"sBMFI",[209,290,229],{"class":215},[209,292,232],{"class":215},[209,294,235],{"class":215},[209,296,297],{"class":238},"sub_WAz8eIbvDR60rouK",[209,299,300],{"class":215},"\"\n",[209,302,304],{"class":211,"line":303},6,[209,305,306],{"class":215},"  }\n",[209,308,310],{"class":211,"line":309},7,[209,311,312],{"class":215},"}\n",[165,314,315,316,319,320,323],{},"In the example above, a subscription was ",[194,317,318],{},"updated",", and the payload type is a ",[194,321,322],{},"subscription",".",[165,325,326],{},[169,327,328],{"href":176},"See all event types",[160,330,332],{"id":331},"inspecting-webhooks","Inspecting webhooks",[165,334,335],{},"To make integrating Vatly as smooth as possible, you can inspect a detailed webhook history in your Vatly dashboard.",[337,338],"hr",{},[160,340,342],{"id":341},"event-types","Event types",[344,345,346,359],"table",{},[347,348,349],"thead",{},[350,351,352,356],"tr",{},[353,354,355],"th",{},"Event",[353,357,358],{},"Description",[360,361,362,373,383,393,403,413,423,432,442,452,462],"tbody",{},[350,363,364,370],{},[365,366,367],"td",{},[194,368,369],{},"checkout.created",[365,371,372],{},"A new checkout was created.",[350,374,375,380],{},[365,376,377],{},[194,378,379],{},"checkout.paid",[365,381,382],{},"A checkout was paid successfully.",[350,384,385,390],{},[365,386,387],{},[194,388,389],{},"checkout.expired",[365,391,392],{},"A checkout has expired.",[350,394,395,400],{},[365,396,397],{},[194,398,399],{},"order.created",[365,401,402],{},"A new order was created.",[350,404,405,410],{},[365,406,407],{},[194,408,409],{},"order.paid",[365,411,412],{},"An order was paid successfully.",[350,414,415,420],{},[365,416,417],{},[194,418,419],{},"subscription.created",[365,421,422],{},"A new subscription was created.",[350,424,425,429],{},[365,426,427],{},[194,428,260],{},[365,430,431],{},"An existing subscription was updated (plan change, quantity change, etc.).",[350,433,434,439],{},[365,435,436],{},[194,437,438],{},"subscription.canceled",[365,440,441],{},"A subscription was canceled.",[350,443,444,449],{},[365,445,446],{},[194,447,448],{},"refund.created",[365,450,451],{},"A new refund was created.",[350,453,454,459],{},[365,455,456],{},[194,457,458],{},"refund.completed",[365,460,461],{},"A refund was completed successfully.",[350,463,464,469],{},[365,465,466],{},[194,467,468],{},"chargeback.created",[365,470,471],{},"A chargeback was initiated by the payment provider.",[473,474,476],"h3",{"id":475},"example-payloads","Example payloads",[478,479,379],"h4",{"id":480},"checkoutpaid",[199,482,484],{"className":201,"code":483,"filename":379,"language":204,"meta":205,"style":205},"{\n  \"id\": \"whk_a056V9ZCh6X9XZlr\",\n  \"type\": \"checkout.paid\",\n  \"payload\": {\n    \"id\": \"chk_abc123def456\",\n    \"resource\": \"checkout\",\n    \"merchantId\": \"mer_abc123\",\n    \"orderId\": \"ord_xyz789\",\n    \"testmode\": false,\n    \"status\": \"paid\",\n    \"createdAt\": \"2024-01-15T10:30:00Z\",\n    \"links\": {\n      \"checkoutUrl\": {\n        \"href\": \"https://pay.vatly.com/chk_abc123def456\",\n        \"type\": \"text/html\"\n      },\n      \"self\": {\n        \"href\": \"https://api.vatly.com/v1/checkouts/chk_abc123def456\",\n        \"type\": \"application/json\"\n      },\n      \"order\": {\n        \"href\": \"https://api.vatly.com/v1/orders/ord_xyz789\",\n        \"type\": \"application/json\"\n      }\n    }\n  }\n}\n",[194,485,486,490,508,526,538,557,577,597,618,633,654,675,689,705,728,746,752,766,786,804,809,823,843,860,866,872,877],{"__ignoreMap":205},[209,487,488],{"class":211,"line":212},[209,489,216],{"class":215},[209,491,492,494,496,498,500,502,504,506],{"class":211,"line":219},[209,493,222],{"class":215},[209,495,226],{"class":225},[209,497,229],{"class":215},[209,499,232],{"class":215},[209,501,235],{"class":215},[209,503,239],{"class":238},[209,505,229],{"class":215},[209,507,244],{"class":215},[209,509,510,512,514,516,518,520,522,524],{"class":211,"line":247},[209,511,222],{"class":215},[209,513,196],{"class":225},[209,515,229],{"class":215},[209,517,232],{"class":215},[209,519,235],{"class":215},[209,521,379],{"class":238},[209,523,229],{"class":215},[209,525,244],{"class":215},[209,527,528,530,532,534,536],{"class":211,"line":267},[209,529,222],{"class":215},[209,531,272],{"class":225},[209,533,229],{"class":215},[209,535,232],{"class":215},[209,537,279],{"class":215},[209,539,540,542,544,546,548,550,553,555],{"class":211,"line":282},[209,541,285],{"class":215},[209,543,226],{"class":288},[209,545,229],{"class":215},[209,547,232],{"class":215},[209,549,235],{"class":215},[209,551,552],{"class":238},"chk_abc123def456",[209,554,229],{"class":215},[209,556,244],{"class":215},[209,558,559,561,564,566,568,570,573,575],{"class":211,"line":303},[209,560,285],{"class":215},[209,562,563],{"class":288},"resource",[209,565,229],{"class":215},[209,567,232],{"class":215},[209,569,235],{"class":215},[209,571,572],{"class":238},"checkout",[209,574,229],{"class":215},[209,576,244],{"class":215},[209,578,579,581,584,586,588,590,593,595],{"class":211,"line":309},[209,580,285],{"class":215},[209,582,583],{"class":288},"merchantId",[209,585,229],{"class":215},[209,587,232],{"class":215},[209,589,235],{"class":215},[209,591,592],{"class":238},"mer_abc123",[209,594,229],{"class":215},[209,596,244],{"class":215},[209,598,600,602,605,607,609,611,614,616],{"class":211,"line":599},8,[209,601,285],{"class":215},[209,603,604],{"class":288},"orderId",[209,606,229],{"class":215},[209,608,232],{"class":215},[209,610,235],{"class":215},[209,612,613],{"class":238},"ord_xyz789",[209,615,229],{"class":215},[209,617,244],{"class":215},[209,619,621,623,626,628,630],{"class":211,"line":620},9,[209,622,285],{"class":215},[209,624,625],{"class":288},"testmode",[209,627,229],{"class":215},[209,629,232],{"class":215},[209,631,632],{"class":215}," false,\n",[209,634,636,638,641,643,645,647,650,652],{"class":211,"line":635},10,[209,637,285],{"class":215},[209,639,640],{"class":288},"status",[209,642,229],{"class":215},[209,644,232],{"class":215},[209,646,235],{"class":215},[209,648,649],{"class":238},"paid",[209,651,229],{"class":215},[209,653,244],{"class":215},[209,655,657,659,662,664,666,668,671,673],{"class":211,"line":656},11,[209,658,285],{"class":215},[209,660,661],{"class":288},"createdAt",[209,663,229],{"class":215},[209,665,232],{"class":215},[209,667,235],{"class":215},[209,669,670],{"class":238},"2024-01-15T10:30:00Z",[209,672,229],{"class":215},[209,674,244],{"class":215},[209,676,678,680,683,685,687],{"class":211,"line":677},12,[209,679,285],{"class":215},[209,681,682],{"class":288},"links",[209,684,229],{"class":215},[209,686,232],{"class":215},[209,688,279],{"class":215},[209,690,692,695,699,701,703],{"class":211,"line":691},13,[209,693,694],{"class":215},"      \"",[209,696,698],{"class":697},"sbssI","checkoutUrl",[209,700,229],{"class":215},[209,702,232],{"class":215},[209,704,279],{"class":215},[209,706,708,711,715,717,719,721,724,726],{"class":211,"line":707},14,[209,709,710],{"class":215},"        \"",[209,712,714],{"class":713},"swJcz","href",[209,716,229],{"class":215},[209,718,232],{"class":215},[209,720,235],{"class":215},[209,722,723],{"class":238},"https://pay.vatly.com/chk_abc123def456",[209,725,229],{"class":215},[209,727,244],{"class":215},[209,729,731,733,735,737,739,741,744],{"class":211,"line":730},15,[209,732,710],{"class":215},[209,734,196],{"class":713},[209,736,229],{"class":215},[209,738,232],{"class":215},[209,740,235],{"class":215},[209,742,743],{"class":238},"text/html",[209,745,300],{"class":215},[209,747,749],{"class":211,"line":748},16,[209,750,751],{"class":215},"      },\n",[209,753,755,757,760,762,764],{"class":211,"line":754},17,[209,756,694],{"class":215},[209,758,759],{"class":697},"self",[209,761,229],{"class":215},[209,763,232],{"class":215},[209,765,279],{"class":215},[209,767,769,771,773,775,777,779,782,784],{"class":211,"line":768},18,[209,770,710],{"class":215},[209,772,714],{"class":713},[209,774,229],{"class":215},[209,776,232],{"class":215},[209,778,235],{"class":215},[209,780,781],{"class":238},"https://api.vatly.com/v1/checkouts/chk_abc123def456",[209,783,229],{"class":215},[209,785,244],{"class":215},[209,787,789,791,793,795,797,799,802],{"class":211,"line":788},19,[209,790,710],{"class":215},[209,792,196],{"class":713},[209,794,229],{"class":215},[209,796,232],{"class":215},[209,798,235],{"class":215},[209,800,801],{"class":238},"application/json",[209,803,300],{"class":215},[209,805,807],{"class":211,"line":806},20,[209,808,751],{"class":215},[209,810,812,814,817,819,821],{"class":211,"line":811},21,[209,813,694],{"class":215},[209,815,816],{"class":697},"order",[209,818,229],{"class":215},[209,820,232],{"class":215},[209,822,279],{"class":215},[209,824,826,828,830,832,834,836,839,841],{"class":211,"line":825},22,[209,827,710],{"class":215},[209,829,714],{"class":713},[209,831,229],{"class":215},[209,833,232],{"class":215},[209,835,235],{"class":215},[209,837,838],{"class":238},"https://api.vatly.com/v1/orders/ord_xyz789",[209,840,229],{"class":215},[209,842,244],{"class":215},[209,844,846,848,850,852,854,856,858],{"class":211,"line":845},23,[209,847,710],{"class":215},[209,849,196],{"class":713},[209,851,229],{"class":215},[209,853,232],{"class":215},[209,855,235],{"class":215},[209,857,801],{"class":238},[209,859,300],{"class":215},[209,861,863],{"class":211,"line":862},24,[209,864,865],{"class":215},"      }\n",[209,867,869],{"class":211,"line":868},25,[209,870,871],{"class":215},"    }\n",[209,873,875],{"class":211,"line":874},26,[209,876,306],{"class":215},[209,878,880],{"class":211,"line":879},27,[209,881,312],{"class":215},[478,883,260],{"id":884},"subscriptionupdated",[199,886,888],{"className":201,"code":887,"filename":260,"language":204,"meta":205,"style":205},"{\n  \"id\": \"whk_b167W0AChY7Z0Amr\",\n  \"type\": \"subscription.updated\",\n  \"payload\": {\n    \"id\": \"sub_abc123def456\",\n    \"resource\": \"subscription\",\n    \"customerId\": \"cus_xyz789\",\n    \"testmode\": false,\n    \"name\": \"Premium Plan\",\n    \"status\": \"active\",\n    \"basePrice\": {\n      \"value\": \"99.99\",\n      \"currency\": \"EUR\"\n    },\n    \"quantity\": 1,\n    \"interval\": \"month\",\n    \"intervalCount\": 1,\n    \"startedAt\": \"2024-01-15T10:30:00Z\",\n    \"renewedUntil\": \"2024-02-15T10:30:00Z\",\n    \"nextRenewalAt\": \"2024-02-15T10:30:00Z\",\n    \"links\": {\n      \"self\": {\n        \"href\": \"https://api.vatly.com/v1/subscriptions/sub_abc123def456\",\n        \"type\": \"application/json\"\n      },\n      \"customer\": {\n        \"href\": \"https://api.vatly.com/v1/customers/cus_xyz789\",\n        \"type\": \"application/json\"\n      }\n    }\n  }\n}\n",[194,889,890,894,913,931,943,962,980,1000,1012,1032,1051,1064,1084,1102,1107,1123,1143,1158,1177,1197,1216,1228,1240,1259,1275,1279,1292,1311,1328,1333,1338,1343],{"__ignoreMap":205},[209,891,892],{"class":211,"line":212},[209,893,216],{"class":215},[209,895,896,898,900,902,904,906,909,911],{"class":211,"line":219},[209,897,222],{"class":215},[209,899,226],{"class":225},[209,901,229],{"class":215},[209,903,232],{"class":215},[209,905,235],{"class":215},[209,907,908],{"class":238},"whk_b167W0AChY7Z0Amr",[209,910,229],{"class":215},[209,912,244],{"class":215},[209,914,915,917,919,921,923,925,927,929],{"class":211,"line":247},[209,916,222],{"class":215},[209,918,196],{"class":225},[209,920,229],{"class":215},[209,922,232],{"class":215},[209,924,235],{"class":215},[209,926,260],{"class":238},[209,928,229],{"class":215},[209,930,244],{"class":215},[209,932,933,935,937,939,941],{"class":211,"line":267},[209,934,222],{"class":215},[209,936,272],{"class":225},[209,938,229],{"class":215},[209,940,232],{"class":215},[209,942,279],{"class":215},[209,944,945,947,949,951,953,955,958,960],{"class":211,"line":282},[209,946,285],{"class":215},[209,948,226],{"class":288},[209,950,229],{"class":215},[209,952,232],{"class":215},[209,954,235],{"class":215},[209,956,957],{"class":238},"sub_abc123def456",[209,959,229],{"class":215},[209,961,244],{"class":215},[209,963,964,966,968,970,972,974,976,978],{"class":211,"line":303},[209,965,285],{"class":215},[209,967,563],{"class":288},[209,969,229],{"class":215},[209,971,232],{"class":215},[209,973,235],{"class":215},[209,975,322],{"class":238},[209,977,229],{"class":215},[209,979,244],{"class":215},[209,981,982,984,987,989,991,993,996,998],{"class":211,"line":309},[209,983,285],{"class":215},[209,985,986],{"class":288},"customerId",[209,988,229],{"class":215},[209,990,232],{"class":215},[209,992,235],{"class":215},[209,994,995],{"class":238},"cus_xyz789",[209,997,229],{"class":215},[209,999,244],{"class":215},[209,1001,1002,1004,1006,1008,1010],{"class":211,"line":599},[209,1003,285],{"class":215},[209,1005,625],{"class":288},[209,1007,229],{"class":215},[209,1009,232],{"class":215},[209,1011,632],{"class":215},[209,1013,1014,1016,1019,1021,1023,1025,1028,1030],{"class":211,"line":620},[209,1015,285],{"class":215},[209,1017,1018],{"class":288},"name",[209,1020,229],{"class":215},[209,1022,232],{"class":215},[209,1024,235],{"class":215},[209,1026,1027],{"class":238},"Premium Plan",[209,1029,229],{"class":215},[209,1031,244],{"class":215},[209,1033,1034,1036,1038,1040,1042,1044,1047,1049],{"class":211,"line":635},[209,1035,285],{"class":215},[209,1037,640],{"class":288},[209,1039,229],{"class":215},[209,1041,232],{"class":215},[209,1043,235],{"class":215},[209,1045,1046],{"class":238},"active",[209,1048,229],{"class":215},[209,1050,244],{"class":215},[209,1052,1053,1055,1058,1060,1062],{"class":211,"line":656},[209,1054,285],{"class":215},[209,1056,1057],{"class":288},"basePrice",[209,1059,229],{"class":215},[209,1061,232],{"class":215},[209,1063,279],{"class":215},[209,1065,1066,1068,1071,1073,1075,1077,1080,1082],{"class":211,"line":677},[209,1067,694],{"class":215},[209,1069,1070],{"class":697},"value",[209,1072,229],{"class":215},[209,1074,232],{"class":215},[209,1076,235],{"class":215},[209,1078,1079],{"class":238},"99.99",[209,1081,229],{"class":215},[209,1083,244],{"class":215},[209,1085,1086,1088,1091,1093,1095,1097,1100],{"class":211,"line":691},[209,1087,694],{"class":215},[209,1089,1090],{"class":697},"currency",[209,1092,229],{"class":215},[209,1094,232],{"class":215},[209,1096,235],{"class":215},[209,1098,1099],{"class":238},"EUR",[209,1101,300],{"class":215},[209,1103,1104],{"class":211,"line":707},[209,1105,1106],{"class":215},"    },\n",[209,1108,1109,1111,1114,1116,1118,1121],{"class":211,"line":730},[209,1110,285],{"class":215},[209,1112,1113],{"class":288},"quantity",[209,1115,229],{"class":215},[209,1117,232],{"class":215},[209,1119,1120],{"class":697}," 1",[209,1122,244],{"class":215},[209,1124,1125,1127,1130,1132,1134,1136,1139,1141],{"class":211,"line":748},[209,1126,285],{"class":215},[209,1128,1129],{"class":288},"interval",[209,1131,229],{"class":215},[209,1133,232],{"class":215},[209,1135,235],{"class":215},[209,1137,1138],{"class":238},"month",[209,1140,229],{"class":215},[209,1142,244],{"class":215},[209,1144,1145,1147,1150,1152,1154,1156],{"class":211,"line":754},[209,1146,285],{"class":215},[209,1148,1149],{"class":288},"intervalCount",[209,1151,229],{"class":215},[209,1153,232],{"class":215},[209,1155,1120],{"class":697},[209,1157,244],{"class":215},[209,1159,1160,1162,1165,1167,1169,1171,1173,1175],{"class":211,"line":768},[209,1161,285],{"class":215},[209,1163,1164],{"class":288},"startedAt",[209,1166,229],{"class":215},[209,1168,232],{"class":215},[209,1170,235],{"class":215},[209,1172,670],{"class":238},[209,1174,229],{"class":215},[209,1176,244],{"class":215},[209,1178,1179,1181,1184,1186,1188,1190,1193,1195],{"class":211,"line":788},[209,1180,285],{"class":215},[209,1182,1183],{"class":288},"renewedUntil",[209,1185,229],{"class":215},[209,1187,232],{"class":215},[209,1189,235],{"class":215},[209,1191,1192],{"class":238},"2024-02-15T10:30:00Z",[209,1194,229],{"class":215},[209,1196,244],{"class":215},[209,1198,1199,1201,1204,1206,1208,1210,1212,1214],{"class":211,"line":806},[209,1200,285],{"class":215},[209,1202,1203],{"class":288},"nextRenewalAt",[209,1205,229],{"class":215},[209,1207,232],{"class":215},[209,1209,235],{"class":215},[209,1211,1192],{"class":238},[209,1213,229],{"class":215},[209,1215,244],{"class":215},[209,1217,1218,1220,1222,1224,1226],{"class":211,"line":811},[209,1219,285],{"class":215},[209,1221,682],{"class":288},[209,1223,229],{"class":215},[209,1225,232],{"class":215},[209,1227,279],{"class":215},[209,1229,1230,1232,1234,1236,1238],{"class":211,"line":825},[209,1231,694],{"class":215},[209,1233,759],{"class":697},[209,1235,229],{"class":215},[209,1237,232],{"class":215},[209,1239,279],{"class":215},[209,1241,1242,1244,1246,1248,1250,1252,1255,1257],{"class":211,"line":845},[209,1243,710],{"class":215},[209,1245,714],{"class":713},[209,1247,229],{"class":215},[209,1249,232],{"class":215},[209,1251,235],{"class":215},[209,1253,1254],{"class":238},"https://api.vatly.com/v1/subscriptions/sub_abc123def456",[209,1256,229],{"class":215},[209,1258,244],{"class":215},[209,1260,1261,1263,1265,1267,1269,1271,1273],{"class":211,"line":862},[209,1262,710],{"class":215},[209,1264,196],{"class":713},[209,1266,229],{"class":215},[209,1268,232],{"class":215},[209,1270,235],{"class":215},[209,1272,801],{"class":238},[209,1274,300],{"class":215},[209,1276,1277],{"class":211,"line":868},[209,1278,751],{"class":215},[209,1280,1281,1283,1286,1288,1290],{"class":211,"line":874},[209,1282,694],{"class":215},[209,1284,1285],{"class":697},"customer",[209,1287,229],{"class":215},[209,1289,232],{"class":215},[209,1291,279],{"class":215},[209,1293,1294,1296,1298,1300,1302,1304,1307,1309],{"class":211,"line":879},[209,1295,710],{"class":215},[209,1297,714],{"class":713},[209,1299,229],{"class":215},[209,1301,232],{"class":215},[209,1303,235],{"class":215},[209,1305,1306],{"class":238},"https://api.vatly.com/v1/customers/cus_xyz789",[209,1308,229],{"class":215},[209,1310,244],{"class":215},[209,1312,1314,1316,1318,1320,1322,1324,1326],{"class":211,"line":1313},28,[209,1315,710],{"class":215},[209,1317,196],{"class":713},[209,1319,229],{"class":215},[209,1321,232],{"class":215},[209,1323,235],{"class":215},[209,1325,801],{"class":238},[209,1327,300],{"class":215},[209,1329,1331],{"class":211,"line":1330},29,[209,1332,865],{"class":215},[209,1334,1336],{"class":211,"line":1335},30,[209,1337,871],{"class":215},[209,1339,1341],{"class":211,"line":1340},31,[209,1342,306],{"class":215},[209,1344,1346],{"class":211,"line":1345},32,[209,1347,312],{"class":215},[337,1349],{},[160,1351,1353],{"id":1352},"security","Security",[165,1355,1356,1357,1360],{},"To know for sure that a webhook was, in fact, sent by Vatly instead of a malicious actor, you can verify the request signature. Each webhook request contains a header named ",[194,1358,1359],{},"x-vatly-signature",", and you can verify this signature by using your secret webhook key. The signature is an HMAC hash of the request payload hashed using your secret key. Here is an example of how to verify the signature in your app:",[1362,1363,1365,1510,1689],"code-group",{"sync":1364},"lang",[199,1366,1371],{"className":1367,"code":1368,"filename":1369,"language":1370,"meta":205,"style":205},"language-js shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","const signature = req.headers['x-vatly-signature']\nconst hash = crypto.createHmac('sha256', secret).update(payload).digest('hex')\n\nif (hash === signature) {\n  // Request is verified\n} else {\n  // Request could not be verified\n}\n","JavaScript","js",[194,1372,1373,1403,1462,1468,1485,1491,1501,1506],{"__ignoreMap":205},[209,1374,1375,1378,1382,1385,1388,1390,1393,1396,1398,1400],{"class":211,"line":212},[209,1376,1377],{"class":225},"const",[209,1379,1381],{"class":1380},"sTEyZ"," signature ",[209,1383,1384],{"class":215},"=",[209,1386,1387],{"class":1380}," req",[209,1389,323],{"class":215},[209,1391,1392],{"class":1380},"headers[",[209,1394,1395],{"class":215},"'",[209,1397,1359],{"class":238},[209,1399,1395],{"class":215},[209,1401,1402],{"class":1380},"]\n",[209,1404,1405,1407,1410,1412,1415,1417,1421,1424,1426,1429,1431,1434,1437,1439,1442,1445,1447,1450,1452,1454,1457,1459],{"class":211,"line":219},[209,1406,1377],{"class":225},[209,1408,1409],{"class":1380}," hash ",[209,1411,1384],{"class":215},[209,1413,1414],{"class":1380}," crypto",[209,1416,323],{"class":215},[209,1418,1420],{"class":1419},"s2Zo4","createHmac",[209,1422,1423],{"class":1380},"(",[209,1425,1395],{"class":215},[209,1427,1428],{"class":238},"sha256",[209,1430,1395],{"class":215},[209,1432,1433],{"class":215},",",[209,1435,1436],{"class":1380}," secret)",[209,1438,323],{"class":215},[209,1440,1441],{"class":1419},"update",[209,1443,1444],{"class":1380},"(payload)",[209,1446,323],{"class":215},[209,1448,1449],{"class":1419},"digest",[209,1451,1423],{"class":1380},[209,1453,1395],{"class":215},[209,1455,1456],{"class":238},"hex",[209,1458,1395],{"class":215},[209,1460,1461],{"class":1380},")\n",[209,1463,1464],{"class":211,"line":247},[209,1465,1467],{"emptyLinePlaceholder":1466},true,"\n",[209,1469,1470,1474,1477,1480,1483],{"class":211,"line":267},[209,1471,1473],{"class":1472},"s7zQu","if",[209,1475,1476],{"class":1380}," (hash ",[209,1478,1479],{"class":215},"===",[209,1481,1482],{"class":1380}," signature) ",[209,1484,216],{"class":215},[209,1486,1487],{"class":211,"line":282},[209,1488,1490],{"class":1489},"sHwdD","  // Request is verified\n",[209,1492,1493,1496,1499],{"class":211,"line":303},[209,1494,1495],{"class":215},"}",[209,1497,1498],{"class":1472}," else",[209,1500,279],{"class":215},[209,1502,1503],{"class":211,"line":309},[209,1504,1505],{"class":1489},"  // Request could not be verified\n",[209,1507,1508],{"class":211,"line":599},[209,1509,312],{"class":215},[199,1511,1516],{"className":1512,"code":1513,"filename":1514,"language":1515,"meta":205,"style":205},"language-python shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","from flask import request\nimport hmac\nimport hashlib\n\nsignature = request.headers.get(\"x-vatly-signature\")\nhash = hmac.new(bytes(secret, \"ascii\"), bytes(payload, \"ascii\"), hashlib.sha256)\n\nif hash.hexdigest() == signature:\n    # Request is verified\nelse:\n    # Request could not be verified\n","Python","python",[194,1517,1518,1532,1539,1546,1550,1580,1644,1648,1672,1677,1684],{"__ignoreMap":205},[209,1519,1520,1523,1526,1529],{"class":211,"line":212},[209,1521,1522],{"class":1472},"from",[209,1524,1525],{"class":1380}," flask ",[209,1527,1528],{"class":1472},"import",[209,1530,1531],{"class":1380}," request\n",[209,1533,1534,1536],{"class":211,"line":219},[209,1535,1528],{"class":1472},[209,1537,1538],{"class":1380}," hmac\n",[209,1540,1541,1543],{"class":211,"line":247},[209,1542,1528],{"class":1472},[209,1544,1545],{"class":1380}," hashlib\n",[209,1547,1548],{"class":211,"line":267},[209,1549,1467],{"emptyLinePlaceholder":1466},[209,1551,1552,1555,1557,1560,1562,1565,1567,1570,1572,1574,1576,1578],{"class":211,"line":282},[209,1553,1554],{"class":1380},"signature ",[209,1556,1384],{"class":215},[209,1558,1559],{"class":1380}," request",[209,1561,323],{"class":215},[209,1563,1564],{"class":713},"headers",[209,1566,323],{"class":215},[209,1568,1569],{"class":1419},"get",[209,1571,1423],{"class":215},[209,1573,229],{"class":215},[209,1575,1359],{"class":238},[209,1577,229],{"class":215},[209,1579,1461],{"class":215},[209,1581,1582,1585,1588,1591,1593,1596,1598,1601,1603,1606,1608,1610,1613,1615,1618,1621,1623,1625,1627,1629,1631,1633,1635,1638,1640,1642],{"class":211,"line":303},[209,1583,1584],{"class":1419},"hash",[209,1586,1587],{"class":215}," =",[209,1589,1590],{"class":1380}," hmac",[209,1592,323],{"class":215},[209,1594,1595],{"class":1419},"new",[209,1597,1423],{"class":215},[209,1599,1600],{"class":288},"bytes",[209,1602,1423],{"class":215},[209,1604,1605],{"class":1419},"secret",[209,1607,1433],{"class":215},[209,1609,235],{"class":215},[209,1611,1612],{"class":238},"ascii",[209,1614,229],{"class":215},[209,1616,1617],{"class":215},"),",[209,1619,1620],{"class":288}," bytes",[209,1622,1423],{"class":215},[209,1624,272],{"class":1419},[209,1626,1433],{"class":215},[209,1628,235],{"class":215},[209,1630,1612],{"class":238},[209,1632,229],{"class":215},[209,1634,1617],{"class":215},[209,1636,1637],{"class":1419}," hashlib",[209,1639,323],{"class":215},[209,1641,1428],{"class":713},[209,1643,1461],{"class":215},[209,1645,1646],{"class":211,"line":309},[209,1647,1467],{"emptyLinePlaceholder":1466},[209,1649,1650,1652,1655,1657,1660,1663,1666,1669],{"class":211,"line":599},[209,1651,1473],{"class":1472},[209,1653,1654],{"class":1419}," hash",[209,1656,323],{"class":215},[209,1658,1659],{"class":1419},"hexdigest",[209,1661,1662],{"class":215},"()",[209,1664,1665],{"class":215}," ==",[209,1667,1668],{"class":1380}," signature",[209,1670,1671],{"class":215},":\n",[209,1673,1674],{"class":211,"line":620},[209,1675,1676],{"class":1489},"    # Request is verified\n",[209,1678,1679,1682],{"class":211,"line":635},[209,1680,1681],{"class":1472},"else",[209,1683,1671],{"class":215},[209,1685,1686],{"class":211,"line":656},[209,1687,1688],{"class":1489},"    # Request could not be verified\n",[199,1690,1695],{"className":1691,"code":1692,"filename":1693,"language":1694,"meta":205,"style":205},"language-php shiki shiki-themes material-theme-lighter material-theme material-theme-palenight","$signature = $request->header('x-vatly-signature');\n$hash = hash_hmac('sha256', $payload, $secret);\n\nif (hash_equals($hash, $signature)) {\n  // Request is verified\n} else {\n  // Request could not be verified\n}\n","PHP","php",[194,1696,1697,1729,1763,1767,1794,1798,1806,1810],{"__ignoreMap":205},[209,1698,1699,1702,1704,1706,1709,1712,1715,1718,1720,1722,1724,1726],{"class":211,"line":212},[209,1700,1701],{"class":215},"$",[209,1703,1554],{"class":1380},[209,1705,1384],{"class":215},[209,1707,1708],{"class":215}," $",[209,1710,1711],{"class":1380},"request",[209,1713,1714],{"class":215},"->",[209,1716,1717],{"class":1419},"header",[209,1719,1423],{"class":215},[209,1721,1395],{"class":215},[209,1723,1359],{"class":238},[209,1725,1395],{"class":215},[209,1727,1728],{"class":215},");\n",[209,1730,1731,1733,1736,1738,1741,1743,1745,1747,1749,1751,1753,1755,1757,1759,1761],{"class":211,"line":219},[209,1732,1701],{"class":215},[209,1734,1735],{"class":1380},"hash ",[209,1737,1384],{"class":215},[209,1739,1740],{"class":1419}," hash_hmac",[209,1742,1423],{"class":215},[209,1744,1395],{"class":215},[209,1746,1428],{"class":238},[209,1748,1395],{"class":215},[209,1750,1433],{"class":215},[209,1752,1708],{"class":215},[209,1754,272],{"class":1380},[209,1756,1433],{"class":215},[209,1758,1708],{"class":215},[209,1760,1605],{"class":1380},[209,1762,1728],{"class":215},[209,1764,1765],{"class":211,"line":247},[209,1766,1467],{"emptyLinePlaceholder":1466},[209,1768,1769,1771,1774,1777,1780,1782,1784,1786,1789,1792],{"class":211,"line":267},[209,1770,1473],{"class":1472},[209,1772,1773],{"class":215}," (",[209,1775,1776],{"class":1419},"hash_equals",[209,1778,1779],{"class":215},"($",[209,1781,1584],{"class":1380},[209,1783,1433],{"class":215},[209,1785,1708],{"class":215},[209,1787,1788],{"class":1380},"signature",[209,1790,1791],{"class":215},"))",[209,1793,279],{"class":215},[209,1795,1796],{"class":211,"line":282},[209,1797,1490],{"class":1489},[209,1799,1800,1802,1804],{"class":211,"line":303},[209,1801,1495],{"class":215},[209,1803,1498],{"class":1472},[209,1805,279],{"class":215},[209,1807,1808],{"class":211,"line":309},[209,1809,1505],{"class":1489},[209,1811,1812],{"class":211,"line":599},[209,1813,312],{"class":215},[165,1815,1816,1817,1819],{},"If your generated signature matches the ",[194,1818,1359],{}," header, you can be sure that the request was truly coming from Vatly. It's essential to keep your secret webhook key safe. Otherwise, you can no longer be sure that a given webhook was sent by Vatly. Don't commit your secret webhook key to GitHub!",[1821,1822,1823],"style",{},"html pre.shiki code .sMK4o, html code.shiki .sMK4o{--shiki-light:#39ADB5;--shiki-default:#89DDFF;--shiki-dark:#89DDFF}html pre.shiki code .spNyl, html code.shiki .spNyl{--shiki-light:#9C3EDA;--shiki-default:#C792EA;--shiki-dark:#C792EA}html pre.shiki code .sfazB, html code.shiki .sfazB{--shiki-light:#91B859;--shiki-default:#C3E88D;--shiki-dark:#C3E88D}html pre.shiki code .sBMFI, html code.shiki .sBMFI{--shiki-light:#E2931D;--shiki-default:#FFCB6B;--shiki-dark:#FFCB6B}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html pre.shiki code .sbssI, html code.shiki .sbssI{--shiki-light:#F76D47;--shiki-default:#F78C6C;--shiki-dark:#F78C6C}html pre.shiki code .swJcz, html code.shiki .swJcz{--shiki-light:#E53935;--shiki-default:#F07178;--shiki-dark:#F07178}html pre.shiki code .sTEyZ, html code.shiki .sTEyZ{--shiki-light:#90A4AE;--shiki-default:#EEFFFF;--shiki-dark:#BABED8}html pre.shiki code .s2Zo4, html code.shiki .s2Zo4{--shiki-light:#6182B8;--shiki-default:#82AAFF;--shiki-dark:#82AAFF}html pre.shiki code .s7zQu, html code.shiki .s7zQu{--shiki-light:#39ADB5;--shiki-light-font-style:italic;--shiki-default:#89DDFF;--shiki-default-font-style:italic;--shiki-dark:#89DDFF;--shiki-dark-font-style:italic}html pre.shiki code .sHwdD, html code.shiki .sHwdD{--shiki-light:#90A4AE;--shiki-light-font-style:italic;--shiki-default:#546E7A;--shiki-default-font-style:italic;--shiki-dark:#676E95;--shiki-dark-font-style:italic}",{"title":205,"searchDepth":219,"depth":219,"links":1825},[1826,1827,1828,1829,1832],{"id":162,"depth":219,"text":163},{"id":188,"depth":219,"text":189},{"id":331,"depth":219,"text":332},{"id":341,"depth":219,"text":342,"children":1830},[1831],{"id":475,"depth":247,"text":476},{"id":1352,"depth":219,"text":1353},"In this guide, we will look at how to register and consume webhooks to integrate your app with Vatly.","md",null,{},{"title":30,"description":1833},"lg9IPM4-k9MsY4XvcZLk6ry_lToerVX8bLqGHM4hKPU",[1840,1842],{"title":26,"path":27,"stem":28,"description":1841,"children":-1},"In this guide, we will look at how to work with paginated responses when querying the Vatly API",{"title":34,"path":35,"stem":36,"description":1843,"children":-1},"This guide covers API error handling, including status codes and error types.",1772150455540]